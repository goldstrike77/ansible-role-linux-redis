---
# General parameters #
redis_is_install: false # A boolean value, whether install the Redis.
redis_path: '/data' # Specify the Redis data directory.
redis_requirepass: 'changeme' # Authorization clients password.

# Service Mesh #
environments: 'SIT' # Define the service environment.
#tags: # Define the service custom label.
#  subscription: 'default'
#  owner: 'nobody'
#  department: 'Infrastructure'
#  organization: 'The Company'
#  region: 'IDC01'
exporter_is_install: false # Whether to install prometheus exporter.
consul_public_register: false # Whether register a exporter service with public consul client.
consul_public_exporter_token: '00000000-0000-0000-0000-000000000000' # Public Consul client ACL token.
consul_public_clients: 'localhost' # List of public consul clients.
consul_public_http_port: '8500' # The consul HTTP API port.

# Listen port #
redis_port: '6379' # Redis listen.
redis_exporter_port: '9121' # Prometheus Redis exporter.

# Server System Variables #
redis_tcp_backlog: '16384' # TCP listen backlog.
redis_timeout: '300' # Client connection idle time in seconds.
redis_tcp_keepalive: '60' # Client keepalive time in seconds.
redis_maxclients: '10000' # The max number of connected clients at the same time.
redis_maxmemory: '{% if ansible_memtotal_mb < 4095 %}{{ (ansible_memtotal_mb * 0.5)|int }}{% else %}{{ (ansible_memtotal_mb * 0.85)|int }}{% endif %}' # A memory usage limit to the specified amount in MB.
redis_ulimit_nproc: '65535' # The number of processes launched by systemd.
redis_ulimit_nofile: '65535' # The number of files launched by systemd.
redis_renamed_commands: # Disabling of specific commands.
  - 'CONFIG'
  - 'DEBUG'
  - 'SHUTDOWN'
#  - 'BGREWRITEAOF'
#  - 'BGSAVE'
#  - 'DEL'
#  - 'FLUSHALL'
#  - 'FLUSHDB'
#  - 'KEYS'
#  - 'PEXPIRE'
#  - 'RENAME'
#  - 'SAVE'
#  - 'SPOP'
#  - 'SREM'